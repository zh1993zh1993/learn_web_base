<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        table{

            text-align: center;
            margin: 100px auto;
            font-size: 12px;
            border-collapse: collapse;
        }
        thead{
            background-color: deepskyblue;
            height: 40px;
        }
        tbody tr{

            height: 30px;
        }
        tbody td{
            width: 100px;
            border: 1px solid #d4d4d4;
            height:20px;
        }
        .check-cart-item{
            background: #fff4e8;
        }
    </style>
</head>
<body>
<div class="wrap">
    <table>
        <thead>
        <tr>
            <th><input type="checkbox" id="j_cbAll"></th>
            <th>商品</th>
            <th>价钱</th>
        </tr>
        </thead>
        <tbody id="j_tb">
        <tr>
            <td><input type="checkbox" class="j-checkbox"></td>
            <td>iPhone</td>
            <td>8000</td>
        </tr>
        <tr>
            <td><input type="checkbox" class="j-checkbox"></td>
            <td>华为</td>
            <td>8000</td>
        </tr>
        <tr>
            <td><input type="checkbox" class="j-checkbox"></td>
            <td>三星</td>
            <td>8000</td>
        </tr>
        <tr>
            <td><input type="checkbox" class="j-checkbox"></td>
            <td>诺基亚</td>
            <td>8000</td>
        </tr>
        </tbody>
    </table>
</div>
<script src="../../jquery-1.11.3/jquery.js"></script>
<script>
    $(function () {
    //    全选，全不选功能模块，把全选按钮的状态赋值给小按钮
    //    事件可以使用change
        $("#j_cbAll").change(function () {
            // console.log($(this).prop("checked"));全选按钮的状态
        //    点击全选按钮，全选按钮的状态赋值给小按钮
            $(".j-checkbox").prop("checked",$(this).prop("checked"))
            if ($(this).prop("checked",true)){
            //    让所有的商品添加这个.check-cart-item类名
                $("td").addClass("check-cart-item")
            }else {
                $("td").removeClass("check-cart-item")
            }
        })
    //    如果小的复选框被选中的个数等于4个，就应该把全选按钮选上，否则全选按钮不选
        $(".j-checkbox").change(function () {
            $(".j-checkbox").prop("checked",$(this).prop("checked"))
            // if (被选中的小的复选框个数===4){
            //     就要选中全选按钮
            // } else {
            //     不要选中全选按钮
            // }
            // console.log($(".j-checkbox:checked").length);
            //$(".j-checkbox").length:所有的小复选框的个数
            if ($(".j-checkbox:checked").length=== $(".j-checkbox").length){
                $("#j_cbAll").prop("checked",true)
            } else {
                $("#j_cbAll").prop("checked",false)
            }
            if ($(this).prop("checked",true)){
                //    让所有的商品添加这个.check-cart-item类名
                $(this).siblings('td').addClass("check-cart-item")
            }else {
                $(this).siblings('td').removeClass("check-cart-item")
            }
        })
    })
</script>
</body>
</html>